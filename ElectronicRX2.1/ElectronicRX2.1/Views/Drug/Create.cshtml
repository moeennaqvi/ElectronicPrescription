@model ElectronicRX2._1.Models.DrugModel

@{
    ViewBag.Title = "Create";
}

<h2>Add New Drug</h2>

@using (Html.BeginForm()) 
{
    @Html.AntiForgeryToken()
    
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <!--Insurance Information-->
        <fieldset>
            <legend>Manufacturer Company Information</legend>
            <div class="col-md-12" id="PatientInsurance">
                <div class='row'>

                    <div class="col-md-2">
                        <label for="user_title">&nbsp;&nbsp; Company ID</label>
                    </div>
                    <div class="col-md-4">
                        @Html.EditorFor(model => model.PharmaceuticalFirmId, new { htmlAttributes = new { @class = "form-control", id = "companyId" } })
                        @Html.ValidationMessageFor(model => model.PharmaceuticalFirmId, "", new { @class = "text-danger" })

                    </div>
                    <div class="col-md-2">
                        <input type="button" class="btn-primary" data-toggle="modal" data-target="#exampleModal" value="Search" />
                    </div>
                </div>
                <div class='row'>

                    <div class="col-md-2">
                        <label for="user_title">&nbsp;&nbsp; Name</label>
                    </div>
                    <div class="col-md-4">
                        @Html.EditorFor(model => model.PharmaceuticalFirmName, new { htmlAttributes = new { @class = "form-control", id = "companyName" } })
                        @Html.ValidationMessageFor(model => model.PharmaceuticalFirmName, "", new { @class = "text-danger" })
                    </div>
                </div>
                
            </div>

        </fieldset>
    <br />
        <legend> Drug Information </legend>
    <div class="form-group">
            <div class="col-md-5">
                <div class="col-md-4">
                    <label for="user_title"> Brand Name</label>
                </div>                
                @Html.EditorFor(model => model.DrugName, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.DrugName, "", new { @class = "text-danger" })
            </div>
            <div class="col-md-5">
                <div class="col-md-4">
                    <label for="user_title">Generic Name</label>
                </div>
                
                @Html.EditorFor(model => model.GenericName, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.GenericName, "", new { @class = "text-danger" })
            </div>
        <div col="col-md-2">
            @Html.CheckBoxFor(model => model.IsavailableGeneral) <label>Generic</label>
        </div>        
    </div>


    <div class="form-group">
        <div class="col-md-5">
            <div class="col-md-4">
                <label for="user_title">Label Details</label>
            </div>            
            @Html.EditorFor(model => model.LabelDetails, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.LabelDetails, "", new { @class = "text-danger" })
        </div>
        <div class="col-md-5">
            <div class="col-md-4">
                <label for="user_title">Drug Category</label>
            </div>            
            @Html.DropDownListFor(m => m.DrugCategory, (SelectList)ViewBag.DrugCategory, new { @class = "form-control"})
            @Html.ValidationMessageFor(model => model.DrugCategory, "", new { @class = "text-danger" })
        </div>
        <div col="col-md-2">
            @Html.CheckBoxFor(model => model.IsControlledSubstance) <label>Controlled Substance</label>
        </div>
    </div>


    <div class="form-group">
        <div class="col-md-5">
            <div class="col-md-4">
                <label for="user_title"> Active Ingredient </label>
            </div>
            @Html.EditorFor(model => model.ActiveIngredient, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.ActiveIngredient, "", new { @class = "text-danger" })
        </div>

        <div class="col-md-5">
            <div class="col-md-4">
                <label for="user_title">Drug Type</label>
            </div>
            @Html.DropDownListFor(m => m.DrugType, (SelectList)ViewBag.DrugType, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.DrugType, "", new { @class = "text-danger" })
        </div>
        <div col="col-md-2">
            @Html.CheckBoxFor(model => model.IsOTC) <label>Over-the-Counter(OTC)</label>
        </div>
    </div>

    <div class="form-group">
        <div class="col-md-4">
            <div class="col-md-3">
                <label> Units </label>
            </div>
            @Html.EditorFor(model => model.StorageUOM )
            @Html.ValidationMessageFor(model => model.StorageUOM, "", new { @class = "text-danger" })
        </div>
        <div class="col-md-4">
            <div class="col-md-3">
                <label> Quantity </label>
            </div>
            @Html.EditorFor(model => model.DosageQuantity)
            @Html.ValidationMessageFor(model => model.StorageUOM, "", new { @class = "text-danger" })
        </div>


        <div class="col-md-4">
            <div class="col-md-3">
                <label> Price($) </label>
            </div>
            @Html.EditorFor(model => model.DrugCost)
            @Html.ValidationMessageFor(model => model.StorageUOM, "", new { @class = "text-danger" })
        </div>
    </div>
    
    <legend><br />Warnings</legend>
    <div class="form-horizontal">
        <div class="form-group">
            <label class="col-md-2">Drug Warnings</label>
            <div class="col-md-4">
                @Html.TextAreaFor(model => model.DrugWarning, htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.DrugWarning, "", new { @class = "text-danger" })
            </div>

            <label class="col-md-2">Disease Warnings</label>
            <div class="col-md-4">
                @Html.TextAreaFor(model => model.DiseaseWarning, htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.DiseaseWarning, "", new { @class = "text-danger" })
            </div>
            <br />
        </div>

        <div class="form-group">
            <label class="col-md-2">Allergy Warnings</label>
            <div class="col-md-4">
                @Html.TextAreaFor(model => model.AlergyWarning, htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.AlergyWarning, "", new { @class = "text-danger" })
            </div>
            <label class="col-md-2">Food Warnings</label>
            <div class="col-md-4">
                @Html.TextAreaFor(model => model.FoodWarning, htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.FoodWarning, "", new { @class = "text-danger" })
            </div>
        </div>
    </div>        
    
        <div class="form-group">
            <hr />
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Create" class="btn btn-primary" />
                <a href="~/Drug/Index" class="btn btn-danger">Back</a>
            </div>
        </div>
}




<div class="modal fade " id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" style="display: none;">

    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="exampleModalLabel"><b>Search Pharmaceutical Firm</b></h4>
            </div>
            <div class="modal-body">
                @{ Html.RenderAction("SearchPartial", "PharmaceuticalFirm"); }
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>

</div>